<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Desigualdades Lineales y Cuadráticas</title>
  <style>
    body {
      background-color: #f4f4f4;
      font-family: Arial, sans-serif;
      padding: 20px;
    }
    .contenedor {
      background: white;
      padding: 20px;
      border-radius: 10px;
      max-width: 600px;
      margin: auto;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
    }
    input, button {
      padding: 10px;
      font-size: 16px;
      width: 100%;
      margin-top: 10px;
    }
    #resultado {
      margin-top: 20px;
      font-size: 18px;
      color: #333;
    }
  </style>
</head>
<body>
  <div class="contenedor">
    <h2>Resolver Desigualdades</h2>
    <p>Ejemplos válidos:<br>
       <code>2x + 3 < 7</code> (lineal)<br>
       <code>x^2 - 5x + 6 >= 0</code> (cuadrática)
    </p>
    <input type="text" id="desigualdad" placeholder="Escribe la desigualdad aquí">
    <button onclick="resolver()">Resolver</button>
    <div id="resultado"></div>
  </div>

  <!-- Librería Nerdamer para álgebra -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/nerdamer/1.1.11/nerdamer.core.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/nerdamer/1.1.11/Algebra.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/nerdamer/1.1.11/Solve.js"></script>

  <script>
    function resolver() {
      const entrada = document.getElementById("desigualdad").value.replace(/\s+/g, '');
      const resultado = document.getElementById("resultado");
      let operador = null;

      if (entrada.includes(">=")) operador = ">=";
      else if (entrada.includes("<=")) operador = "<=";
      else if (entrada.includes(">")) operador = ">";
      else if (entrada.includes("<")) operador = "<";

      if (!operador) {
        resultado.innerHTML = "Por favor, usa una desigualdad válida como <, >, <=, >=";
        return;
      }

      const partes = entrada.split(operador);
      const izquierda = partes[0].replace(/\^/g, "**");
      const derecha = partes[1].replace(/\^/g, "**");

      const expresion = `(${izquierda}) - (${derecha})`;
      const simplificada = nerdamer(expresion).expand().toString();

      // Determinar si es cuadrática o lineal
      const esCuadratica = simplificada.includes("x^2") || simplificada.includes("x**2");

      try {
        if (esCuadratica) {
          const raices = nerdamer.solve(simplificada, 'x').text().split(',');
          resultado.innerHTML = `
            <p><strong>Paso 1:</strong> Restar ambos lados: ${expresion}</p>
            <p><strong>Paso 2:</strong> Forma simplificada: ${simplificada}</p>
            <p><strong>Raíces:</strong> x = ${raices.join(" y ")}</p>
            <p><strong>Solución:</strong> Elige el intervalo correcto según el signo "${operador}"</p>
          `;
        } else {
          const solucion = nerdamer.solve(simplificada, 'x').toString();
          resultado.innerHTML = `
            <p><strong>Paso 1:</strong> Restar ambos lados: ${expresion}</p>
            <p><strong>Paso 2:</strong> Forma simplificada: ${simplificada}</p>
            <p><strong>Solución:</strong> x ${operador} ${solucion}</p>
          `;
        }
      } catch (e) {
        resultado.innerHTML = "No se pudo resolver la desigualdad. Revisa la expresión.";
      }
    }
  </script>
</body>
</html>


